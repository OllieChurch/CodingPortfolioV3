---
interface Props {
  title: string;
  date: Date;
  description: string;
  tags: string[];
  slug: string;
  readingTime?: number;
  image?: string;
}

const { title, date, description, tags, slug, readingTime, image } = Astro.props;

const formattedDate = new Date(date).toLocaleDateString('en-GB', {
  day: 'numeric',
  month: 'short',
  year: 'numeric',
});
---

<a href={`/blog/${slug}`} class="block overflow-hidden rounded-lg border border-[var(--color-bg-dark-card)] bg-[var(--color-bg-dark-surface)] shadow-md shadow-black/20 transition-all hover:border-[var(--color-purple)] hover:shadow-lg hover:shadow-[var(--color-purple)]/10">
  {image && <img src={image} alt="" class="w-full h-48 object-cover" />}
  <div class="p-5">
  <h3 class="text-lg font-semibold">{title}</h3>
  <time datetime={new Date(date).toISOString()} class="mt-1 block text-sm text-gray-400">
    {formattedDate}{readingTime && <span> Â· {readingTime} min read</span>}
  </time>
  <p class="mt-2 text-sm text-gray-300">{description}</p>
  {tags.length > 0 && (
    <div class="mt-3 flex flex-wrap gap-2">
      {tags.map((tag) => (
        <span class="rounded-full bg-[var(--color-bg-dark-card)] px-2.5 py-0.5 text-xs text-[var(--color-cyan)]">
          {tag}
        </span>
      ))}
    </div>
  )}
  </div>
</a>
